{"version":3,"sources":["../../src/pages/signup/signup.module.ts","../../src/pages/signup/signup.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACa;AACN;AAEC;AACX;AAE/B,IAAM,cAAc,GAAG;IAC5B,MAAM,EAAE,yCAAyC;IACjD,UAAU,EAAE,kCAAkC;IAC9C,WAAW,EAAE,yCAAyC;IACtD,SAAS,EAAE,kBAAkB;IAC7B,aAAa,EAAE,8BAA8B;IAC7C,iBAAiB,EAAE,cAAc;CAClC,CAAC;AAcF;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAb5B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAU;aACX;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2DAAU,CAAC;gBACpC,4EAAe,CAAC,QAAQ,EAAE;gBAC1B,+DAAiB,CAAC,aAAa,CAAC,cAAc,CAAC;aAChD;YACD,OAAO,EAAE;gBACP,2DAAU;aACX;SACF,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5Ba;AACa;AACyB;AAEvB;AAEG;AAErB;AACR;AAO/B;IAeE,oBAAmB,OAAsB,EAChC,IAAU,EACV,SAA0B,EAC1B,gBAAkC,EAClC,QAAyB,EACzB,KAAsB,EACtB,EAAuB;QANhC,iBAYC;QAZkB,YAAO,GAAP,OAAO,CAAe;QAChC,SAAI,GAAJ,IAAI,CAAM;QACV,cAAS,GAAT,SAAS,CAAiB;QAC1B,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,aAAQ,GAAR,QAAQ,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAiB;QACtB,OAAE,GAAF,EAAE,CAAqB;QAhBhC,YAAO,GAAsE;YAC3E,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;SACb,CAAC;QAcA,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,SAAS,CAAC,UAAC,KAAK;YACxD,KAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjC,CAAC,CAAC;IACJ,CAAC;IAED,6BAAQ,GAAR;QACE,+CAA+C;QADjD,iBAqDC;QAlDC,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,IAAE,MAAM,CAAC,IAAE,EAAE,CAAC,EAAC;YACzE,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC/B,KAAK,EAAE,OAAO;gBACd,QAAQ,EAAE,eAAe;gBACzB,OAAO,EAAE,iDAAiD;aAC3D,CAAC,CAAC;YACH,MAAM,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;gBAC5E,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mDAAQ,CAAC,CAAC;gBAC5B,KAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAY,KAAI,CAAC,OAAO,CAAC,IAAM,CAAC,CAAC,IAAI,CAAC;oBACzD,KAAK,EAAC,KAAI,CAAC,OAAO,CAAC,KAAK;oBACxB,MAAM,EAAC,KAAI,CAAC,OAAO,CAAC,IAAI;oBACxB,IAAI,EAAE,KAAI,CAAC,IAAI;oBACf,QAAQ,EAAC,KAAI,CAAC,OAAO,CAAC,QAAQ;oBAC9B,QAAQ,EAAC,KAAI,CAAC,OAAO,CAAC,QAAQ;iBAC/B,CAAC,CAAC;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,GAAG;gBACX,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,EAAE,EAAC,GAAG,CAAC,OAAO,IAAE,uCAAuC,CAAC,EAAC;oBACvD,IAAM,MAAM,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;wBAC/B,KAAK,EAAE,OAAO;wBACd,QAAQ,EAAE,sBAAsB;wBAChC,OAAO,EAAE,gDAAgD;qBAC1D,CAAC,CAAC;oBACH,MAAM,CAAC,OAAO,EAAE,CAAC;gBACnB,CAAC;gBAAA,IAAI,EAAC;oBACJ,IAAM,MAAM,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;wBAC/B,KAAK,EAAE,OAAO;wBACd,QAAQ,EAAE,sBAAsB;wBAChC,OAAO,EAAE,GAAG;qBACb,CAAC,CAAC;oBACH,MAAM,CAAC,OAAO,EAAE,CAAC;gBACnB,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QACD;;;;;;;;;;;;;aAaK;IACP,CAAC;IAlFU,UAAU;QAJtB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;WACG;SAC3B,CAAC;qEAgByC;YAC1B,sEAAI;YACC,6EAAe;YACR,2EAAgB;YACxB,sEAAe;YAClB,0EAAe;YAClB,OAAmB;OArBrB,UAAU,CAmFtB;IAAD,CAAC;AAAA;SAnFY,UAAU,e","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { AngularFireModule } from \"angularfire2\";\nimport { SignupPage } from './signup';\n\nexport const FirebaseConfig = {\n  apiKey: \"AIzaSyAIBPLFwnGQtelwGnPBAQz30JvDqGB0nlI\",\n  authDomain: \"nicapp-firecodes.firebaseapp.com\",\n  databaseURL: \"https://nicapp-firecodes.firebaseio.com\",\n  projectId: \"nicapp-firecodes\",\n  storageBucket: \"nicapp-firecodes.appspot.com\",\n  messagingSenderId: \"831820679547\"\n};\n@NgModule({\n  declarations: [\n    SignupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SignupPage),\n    TranslateModule.forChild(),\n    AngularFireModule.initializeApp(FirebaseConfig),\n  ],\n  exports: [\n    SignupPage\n  ]\n})\nexport class SignupPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.module.ts","import { Component } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController, ToastController, AlertController } from 'ionic-angular';\n\nimport { ServicioService } from \"../../servicio.service\";\n\nimport { AngularFireDatabase } from \"angularfire2/database\";\n\nimport { User } from '../../providers';\nimport { MainPage } from '../';\n\n@IonicPage()\n@Component({\n  selector: 'page-signup',\n  templateUrl: 'signup.html'\n})\nexport class SignupPage {\n  // The account fields for the login form.\n  // If you're using the username field with or without email, make\n  // sure to add it to the type\n  sexo:string;\n  account: { name: string, email: string, password: string, telefono:string} = {\n    name: '',\n    email: '',\n    password: '',\n    telefono: ''\n  };\n\n  // Our translated text strings\n  private signupErrorString: string;\n\n  constructor(public navCtrl: NavController,\n    public user: User,\n    public toastCtrl: ToastController,\n    public translateService: TranslateService,\n    public servicio: ServicioService,\n    public alert: AlertController,\n    public db: AngularFireDatabase\n    ) {\n\n    this.translateService.get('SIGNUP_ERROR').subscribe((value) => {\n      this.signupErrorString = value;\n    })\n  }\n\n  doSignup() {\n    // Attempt to login in through our User service\n\n    if((this.account.email || this.account.password || this.sexo=='Sexo')==''){\n      const alerta = this.alert.create({\n        title: 'Error',\n        subTitle: 'Faltan Campos',\n        message: 'Favor de rellenar todos los campos obligatorios'\n      });\n      alerta.present();\n    }else{\n      this.servicio.registerUser(this.account.email,this.account.password).then((res)=>{\n        this.navCtrl.push(MainPage);\n        this.db.database.ref(`Usuarios/${this.account.name}`).push({\n          Email:this.account.email,\n          Nombre:this.account.name,\n          Sexo: this.sexo,\n          Telefono:this.account.telefono,\n          Password:this.account.password\n        });\n      }).catch((err)=>{\n        console.log(err);\n        if(err.message=='The email address is badly formatted.'){\n          const alerta = this.alert.create({\n            title: 'Error',\n            subTitle: 'Ha ocurrido un Error',\n            message: 'El Email esta mal Formateado, favor corregirlo'\n          });\n          alerta.present();\n        }else{\n          const alerta = this.alert.create({\n            title: 'Error',\n            subTitle: 'Ha ocurrido un Error',\n            message: err\n          });\n          alerta.present();\n        }\n      });\n    }\n    /*this.user.signup(this.account).subscribe((resp) => {\n      this.navCtrl.push(MainPage);\n    }, (err) => {\n\n      this.navCtrl.push(MainPage);\n\n      // Unable to sign up\n      let toast = this.toastCtrl.create({\n        message: this.signupErrorString,\n        duration: 3000,\n        position: 'top'\n      });\n      toast.present();\n    });*/\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts"],"sourceRoot":""}